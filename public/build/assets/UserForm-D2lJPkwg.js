import{r as n,j as e}from"./app-D8uQYgvl.js";import{U as C}from"./users-UtEP8ujb.js";import{L as _,E as m}from"./lock-BvfApMxG.js";import{E as x}from"./eye-B5UCNg4s.js";import{S as u}from"./shield-Q_hQjvIf.js";import{X as U}from"./app-layout-B5_O5D4_.js";import{S as A}from"./save-BbcNN22C.js";const B=({initialData:g={},onSubmit:b,isSubmitting:i=!1,submitButtonText:h="Create User",isEditing:t=!1,errors:a={}})=>{const[s,c]=n.useState({name:"",email:"",password:"",password_confirmation:"",user_type:"User",is_active:!0,...g}),[d,p]=n.useState(!1),[o,y]=n.useState(!1),l=(r,N)=>{c(v=>({...v,[r]:N}))},f=r=>{r.preventDefault(),b(s)},k=()=>{c({name:"",email:"",password:"",password_confirmation:"",user_type:"User",is_active:!0})},j=r=>{switch(r){case"Admin":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400 border-red-200 dark:border-red-800";case"Client":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400 border-blue-200 dark:border-blue-800";case"User":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400 border-green-200 dark:border-green-800";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400 border-gray-200 dark:border-gray-700"}},w=r=>{switch(r){case"Admin":return"Full system access, user management, analytics";case"Client":return"View installations, download files, generate reports";case"User":return"Create installations, view basic dashboard";default:return""}};return e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsxs("div",{className:"border-b border-gray-200 p-6 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:t?"Edit User":"Create New User"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-300",children:t?"Update user information and permissions":"Add a new user to the system"})]}),e.jsxs("form",{onSubmit:f,className:"space-y-6 p-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"flex items-center text-lg font-semibold text-gray-900 dark:text-white",children:[e.jsx(C,{className:"mr-2 h-5 w-5 text-blue-600 dark:text-blue-400"}),"Basic Information"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Full Name *"}),e.jsx("input",{type:"text",value:s.name,onChange:r=>l("name",r.target.value),className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-gray-900 placeholder-gray-500 transition-colors duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:outline-none dark:border-gray-600 dark:bg-gray-800 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-400 dark:focus:ring-blue-400",placeholder:"Enter full name"}),a.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email Address *"}),e.jsx("input",{type:"email",value:s.email,onChange:r=>l("email",r.target.value),className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-gray-900 placeholder-gray-500 transition-colors duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:outline-none dark:border-gray-600 dark:bg-gray-800 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-400 dark:focus:ring-blue-400",placeholder:"Enter email address"}),a.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:a.email})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"flex items-center text-lg font-semibold text-gray-900 dark:text-white",children:[e.jsx(_,{className:"mr-2 h-5 w-5 text-green-600 dark:text-green-400"}),t?"Change Password (Optional)":"Password"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Password ",!t&&"*"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:d?"text":"password",value:s.password,onChange:r=>l("password",r.target.value),className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 pr-10 text-gray-900 placeholder-gray-500 transition-colors duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:outline-none dark:border-gray-600 dark:bg-gray-800 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-400 dark:focus:ring-blue-400",placeholder:t?"Leave blank to keep current password":"Enter password"}),e.jsx("button",{type:"button",onClick:()=>p(!d),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:d?e.jsx(m,{className:"h-4 w-4"}):e.jsx(x,{className:"h-4 w-4"})})]}),a.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:a.password}),!t&&e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Minimum 8 characters required"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Confirm Password ",!t&&"*"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:o?"text":"password",value:s.password_confirmation,onChange:r=>l("password_confirmation",r.target.value),className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 pr-10 text-gray-900 placeholder-gray-500 transition-colors duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:outline-none dark:border-gray-600 dark:bg-gray-800 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-400 dark:focus:ring-blue-400",placeholder:t?"Confirm new password":"Confirm password"}),e.jsx("button",{type:"button",onClick:()=>y(!o),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:o?e.jsx(m,{className:"h-4 w-4"}):e.jsx(x,{className:"h-4 w-4"})})]}),a.password_confirmation&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:a.password_confirmation})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"flex items-center text-lg font-semibold text-gray-900 dark:text-white",children:[e.jsx(u,{className:"mr-2 h-5 w-5 text-purple-600 dark:text-purple-400"}),"Permissions & Access"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300",children:"User Type *"}),e.jsxs("select",{value:s.user_type,onChange:r=>l("user_type",r.target.value),className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-gray-900 transition-colors duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:outline-none dark:border-gray-600 dark:bg-gray-800 dark:text-white dark:focus:border-blue-400 dark:focus:ring-blue-400",children:[e.jsx("option",{value:"User",children:"User"}),e.jsx("option",{value:"Client",children:"Client"}),e.jsx("option",{value:"Admin",children:"Admin"})]}),a.user_type&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:a.user_type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Account Status"}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:s.is_active,onChange:r=>l("is_active",r.target.checked),className:"mr-2 h-4 w-4 rounded border-gray-300 bg-white text-blue-600 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-800 dark:text-blue-400 dark:focus:ring-blue-400"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Active Account"})]})}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Inactive users cannot log in to the system"})]})]}),e.jsxs("div",{className:`rounded-lg border p-4 ${j(s.user_type)}`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(u,{className:"mr-2 h-5 w-5"}),e.jsxs("h4",{className:"font-semibold",children:[s.user_type," Permissions"]})]}),e.jsx("p",{className:"mt-2 text-sm",children:w(s.user_type)}),e.jsxs("div",{className:"mt-3",children:[e.jsx("h5",{className:"mb-2 text-sm font-medium",children:"Access Level:"}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[s.user_type==="Admin"&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"• Full system administration"}),e.jsx("li",{children:"• User management and permissions"}),e.jsx("li",{children:"• System settings and configuration"}),e.jsx("li",{children:"• Advanced analytics and reports"}),e.jsx("li",{children:"• Installation CRUD operations"})]}),s.user_type==="Client"&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"• View all installation records"}),e.jsx("li",{children:"• Download files and generate reports"}),e.jsx("li",{children:"• Bulk file downloads"}),e.jsx("li",{children:"• Installation status tracking"}),e.jsx("li",{children:"• Limited editing capabilities"})]}),s.user_type==="User"&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"• Create new installation records"}),e.jsx("li",{children:"• View basic dashboard"}),e.jsx("li",{children:"• Search installations"}),e.jsx("li",{children:"• View own submissions"}),e.jsx("li",{children:"• Basic file uploads"})]})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-6 dark:border-gray-700",children:[e.jsxs("button",{type:"button",onClick:k,className:"inline-flex items-center rounded-lg border border-gray-300 bg-white px-6 py-3 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:outline-none dark:border-gray-600 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700 dark:focus:ring-blue-400 dark:focus:ring-offset-gray-900",children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"Reset Form"]}),e.jsx("button",{type:"submit",disabled:i,className:"inline-flex items-center rounded-lg bg-gradient-to-r from-blue-600 to-purple-600 px-8 py-3 text-sm font-medium text-white transition-all duration-200 hover:from-blue-700 hover:to-purple-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 dark:from-blue-500 dark:to-purple-500 dark:hover:from-blue-600 dark:hover:to-purple-600 dark:focus:ring-blue-400 dark:focus:ring-offset-gray-900",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),t?"Updating...":"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),h]})})]})]})]})};export{B as U};
